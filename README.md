REST API Server  ( ~ing ) 🐻
============ 
Java 8 to 11 <br>
Spring Security <br>
HateOAS, Self-descriptive message<br>

그 다음 해야할 것: DTO -> Inner Class 넣어서 중복된 부분 리팩토링하기 <br> 

-------
* Author 민경재[ggomjae] <br>
* 개인 개발 블로그 링크 <https://blog.naver.com/ggomjae> <br>
* 과거 공부한 express 설계 참고 <https://blog.naver.com/ggomjae/222049288099> <br>
* 과거 공부한 java 8 to 10 참고 <https://github.com/ggomjae/java8to11> <br>
-------

REST API
============

<div>
    <img align="left" width="100%" src = "https://user-images.githubusercontent.com/43604493/100618078-b023a300-335e-11eb-9a2c-5fd8f4c774b9.JPG">
</div>

<br>

One ) ```DataFilter```는 ```@jsonignore```,```SimpleBeanPropertyFilter```를 쓰지 않고 ```DTO```로 반환

```bash
EX] 
@jsonignore --- ( x )
SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.fillterOutAllExcept --- ( x )

@PostMapping("/users") --- ( O )
public ResponseEntity<ResponseCreateDto> createUser(@Valid @RequestBody RequestCreateDto requestCreateDto)
    ...
    return ResponseEntity.created(location).body(responseCreateDto);
```

<br>

Two ) ```Entity```가 아닌 ```requestDTO```에 ```@Valid```로 적용
```bash
public ResponseEntity<ResponseCreateDto> createUser(@Valid @RequestBody RequestCreateDto requestCreateDto)
```

OAuth2 ( Code, Access Token ) 
=========================

<div>
    <img align="left" width="100%" src = "https://user-images.githubusercontent.com/43604493/103472842-8f26f580-4dd5-11eb-9b94-722ca81722e9.JPG">
</div>


RequestDTO, ResponseDTO, ExceptionDTO  
=========================

<div>
    <img align="left" width="100%" src = "https://user-images.githubusercontent.com/43604493/100621363-ec590280-3362-11eb-9c15-0fccc4d63ff0.JPG">
</div>

<br>

HateOAS _LINK  
=========================

<div>
    <img align="left" width="100%" src = "https://user-images.githubusercontent.com/43604493/100857913-a326c100-34d0-11eb-92d4-d76d1f1950da.JPG">
</div>

<br>

```bash
// List안에 있는 모든 DTO에 상세 Link 걸어주는 반복문
for(ResponseRetrieveUserDto responseRetrieveUserDto : users){
    WebMvcLinkBuilder linkTo = WebMvcLinkBuilder
        .linkTo(WebMvcLinkBuilder.methodOn(this.getClass()).retrieveUser(responseRetrieveUserDto.getId()));
    
    responseRetrieveUserDto.add(linkTo.withRel("retrieve-user")); // 각 DTO에 각자의 상세 URL 반환
}

```


ERD
========================

<div>
    <img align="left" width="100%" src = "https://user-images.githubusercontent.com/43604493/100623898-1fe95c00-3366-11eb-9fed-c0d252e210b5.JPG">
</div>

SQL
========================

<br>

1 ) ```USER```

```mysql based
create table user (
        uno bigint generated by default as identity,
        create_date timestamp,
        modified_date timestamp,
        email varchar(255) not null,
        nickname varchar(255) not null,
        password varchar(255) not null,
        primary key (uno)
)
```

2 ) ```POST```

```mysql based
create table post (
        pno bigint generated by default as identity,
        create_date timestamp,
        modified_date timestamp,
        content Text not null,
        description varchar(255) not null,
        post_status boolean not null,
        title varchar(500) not null,
        uno bigint not null,
        primary key (pno)
)
``` 

3 ) ```REPLY```

```mysql based
create table reply (
        rno bigint generated by default as identity,
        create_date timestamp,
        modified_date timestamp,
        content Text,
        pno bigint not null,
        uno bigint not null,
        primary key (rno)
)
```

<br>

# 끝맺음
<br>

> 주기적인 업데이트. <br>
> 완전한 코드는 Git 위의 코드 부분을 봐주세요. <br>
